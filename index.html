<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rainbow Fun | 测试链接</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f0f0f0; padding: 40px; text-align: center; }
        .links a { display: block; margin: 20px auto; max-width: 400px; padding: 15px; background: white; border-radius: 10px; text-decoration: none; color: #333; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .links img { width: 32px; height: 32px; vertical-align: middle; margin-right: 12px; }
    </style>
</head>
<body>

    <h1>测试反爬虫链接（只保留 Official website 测试）</h1>
    <p>请点击下面按钮，看是否能正常跳转到官网。</p>
    <p>如果成功跳转 → 说明环境正常，问题只是其他链接的 base64 复制错了。</p>
    <p>如果失败 → 按 F12 打开控制台，看 Console 里的红色错误，告诉我。</p>

    <div class="links">
        <!-- 只测试 Official website 这个最简单的链接（已验证 100% 正确） -->
        <a href="javascript:void(0)" class="protected-link" 
           data-real-href="aHR0cHM6Ly9yYWluYm93ZnVuZG9sbHMuY29tLw==" 
           target="_blank">
            <img src="https://t3.ftcdn.net/jpg/16/11/00/40/360_F_1611004079_mcMRZu36VrXma5mUnjzKuxFnqT55siFR.jpg" alt="Website" class="icon"> Official website
        </a>
    </div>

    <!-- 测试用的 JS 解码代码（内联，方便直接运行） -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.protected-link').forEach(function(link) {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const encoded = this.getAttribute('data-real-href');
                    let realUrl;
                    try {
                        realUrl = atob(encoded);  // base64 解码
                        console.log('成功解码 URL:', realUrl);  // 在控制台打印，便于调试
                    } catch (error) {
                        console.error('Base64 解码失败:', error);
                        alert('解码失败，请检查 base64 字符串');
                        return;
                    }
                    // 加延迟模拟真人点击
                    const delay = 200 + Math.floor(Math.random() * 300);
                    setTimeout(() => {
                        window.open(realUrl, '_blank', 'noopener,noreferrer');
                    }, delay);
                });
            });
        });
    </script>

</body>
</html>